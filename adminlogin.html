<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Login Form | Soil Farming Agent</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body class="body" style="background-image: url(assets/Soil-Form.jpg);">
    <div class="form-container">
        <h2>Admin Login</h2>
        <form id="userForm" action="admindashboard.html">

            <input type="email" id="emailid" placeholder="Email" required>

            <input type="password" id="password" placeholder="Password" required>
            <span class="password-toggle-icon"><i class="fas fa-eye"></i></span>

            <div class="container-link">
                <p>Back To <a href="index.html">Home</a>.</p>
            </div>

            <button type="submit" id="submit" onclick="login()">Login</button>
        </form>
    </div>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>

    <script type="module">

        // Your web app's Firebase configuration
        const app = firebase.initializeApp({
            apiKey: "AIzaSyDkvdeFRM2B097ovGxsoQIRkZf2fBkwNv8",
            authDomain: "soilfarmingagent-7feb25.firebaseapp.com",
            databaseURL: "https://soilfarmingagent-7feb25-default-rtdb.firebaseio.com",
            projectId: "soilfarmingagent-7feb25",
            storageBucket: "soilfarmingagent-7feb25.firebasestorage.app",
            messagingSenderId: "249491755364",
            appId: "1:249491755364:web:10cec17841a2220bd76a71"
        });

        // Initialize Firebase
        const auth = firebase.auth();

        function login() {
            const email = document.getElementById("emailid").value;
            const password = document.getElementById("password").value;

            auth.signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    alert("Login Successful!");
                    window.location.href = "admindashboard.html";
                })
                .catch((error) => {
                    alert("Login Failed: " + error.message);
                });
        }
    </script>
    <script src="js/script.js"></script>

</body>

</html>